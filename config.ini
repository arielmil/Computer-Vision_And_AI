###############################################################################
# Configuração TFNE para algoritmo NEAT, inspirada nas configs do neat-python
# para um problema de classificação de dígitos (ex.: 0 a 9), com 12.600 inputs.
###############################################################################

[TFNE]
# Especifica que queremos rodar o NEAT puro (não o CoDeepNEAT)
execution = neat


###############################################################################
# POPULATION
###############################################################################
[POPULATION]
# Número de indivíduos em cada geração
population_size = 150

# Quantas gerações sem melhora antes de declarar estagnação
stagnation_threshold = 5

# Se quiser que IDs de inovação sejam resetados após estagnação
reset_innovations = True


###############################################################################
# GENOME
###############################################################################
[GENOME]
# =========================
# ESTRUTURA E ENTRADAS/SAÍDAS
# =========================
# Define se a rede pode ter conexões recorrentes ou não
feedforward = True

# Inicialmente sem conexões entre input e output
initial_connection = unconnected

# Quantidade de neurônios de entrada (ex.: 128x128 = 16384. Aqui, 12600 como no exemplo)
num_inputs = 12600

# Quantidade de neurônios de saída (0 a 9)
num_outputs = 10

# Quantos neurônios ocultos começam na rede (NEAT irá adicionar nós)
initial_hidden_nodes = 0


# =========================
# ATIVAÇÃO E AGREGAÇÃO
# =========================
# Função de ativação padrão e opções
activation_default = sigmoid
activation_mutate_rate = 0.0
activation_options = sigmoid

# Agregação padrão e opções
aggregation_default = sum
aggregation_mutate_rate = 0.0
aggregation_options = sum


# =========================
# PESOS E CONEXÕES
# =========================
weight_init_mean = 0.0
weight_init_std = 1.0
weight_max_value = 4
weight_min_value = -4

# O quanto o peso pode variar numa mutação (gaussiano)
weight_mutate_power = 0.05

# Probabilidade de um peso sofrer mutação
weight_mutate_rate = 0.8

# Chance de substituir completamente um peso por um valor aleatório
weight_replace_rate = 0.03

# Conexões ficam ativas por padrão
# (Similar a "enabled_default = True" no neat-python)
# TFNE não tem parâmetro separado para isso; o análogo é "disable_rate"/"enabled_rate" lá embaixo.


# =========================
# BIAS DOS NÓS
# (Algumas versões do TFNE podem ignorar parte disso, mas deixamos para manter compatível)
# =========================
bias_init_mean = 0.0
bias_init_std = 1.0
bias_max_value = 4
bias_min_value = -4

bias_mutate_power = 0.05
bias_mutate_rate = 0.7
bias_replace_rate = 0.4


###############################################################################
# GENOME_MUTATION_RATES
###############################################################################
[GENOME_MUTATION_RATES]
# Probabilidade de adicionar um novo nó
add_node_rate = 0.4

# Probabilidade de adicionar uma nova conexão
add_connection_rate = 0.4

# Ajustes de ativação/desativação de genes de conexão
enabled_rate = 0.07
disable_rate = 0.01

# Obs: TFNE não dá suporte nativo para "node_delete_prob" ou "conn_delete_prob".


###############################################################################
# SPECIES
###############################################################################
[SPECIES]
# Limite de compatibilidade para separar genomas em espécies
compatibility_threshold = 3.0

# Penaliza conexões exclusivas
excess_coefficient = 1.0

# Penaliza conexões “disjuntas”
disjoint_coefficient = 1.0

# Penaliza diferença de pesos
weight_coefficient = 0.5